<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="EssayGPT - Your all-in-one academic research assistant. Search Semantic Scholar, CrossRef, and arXiv simultaneously, organize sources, and generate structured essay drafts.">
    <meta name="keywords"
        content="academic search, research papers, essay writer, citation manager, Semantic Scholar, CrossRef, arXiv, academic databases, research assistant">
    <meta name="author" content="EssayGPT">

    <title>EssayGPT - Academic Research & Essay Writing Assistant</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            safelist: [
                // Layout & spacing
                'bg-gold-400/[0.08]', 'backdrop-blur-xl', 'border-2', 'border-gold-400/15', 'border-gold-400/20',
                'border-gold-400/30', 'border-gold-400/40', 'border-gold-400/10', 'rounded-2xl', 'rounded-xl', 'rounded-lg',
                'p-3', 'p-6', 'py-2', 'px-1', 'px-2', 'px-3', 'px-4', 'px-6', 'py-1', 'py-4', 'py-12',
                'pl-8', '-indent-8', 'pb-2', 'border-b',
                'mb-2', 'mb-3', 'mb-4', 'mb-6', 'mt-2', 'mt-6', 'mt-8', 'pt-4',
                // Transitions & animations
                'transition-all', 'duration-300', 'duration-150', 'hover:border-gold-400', 'hover:shadow-lg',
                'hover:shadow-gold', 'hover:translate-x-1', 'opacity-0', 'opacity-50', 'opacity-70', 'opacity-100',
                'animate-fade-in-up', 'animate-pulse',
                // Typography
                'text-xl', 'text-2xl', 'text-6xl', 'text-sm', 'text-xs', 'text-base', 'text-lg',
                'font-bold', 'font-semibold', 'leading-tight', 'leading-relaxed', 'italic',
                // Colors
                'text-white', 'text-gold-400', 'text-gold-300', 'text-gold-200', 'text-gold-100/90', 'text-gold-100/80',
                'text-gold-200/80', 'text-gold-200/60',
                'text-emerald-400', 'text-blue-400', 'text-red-400', 'text-gray-400', 'text-gray-500', 'text-navy-900',
                'bg-emerald-500/15', 'bg-blue-500/15', 'bg-gold-400/15', 'bg-gold-400/10', 'bg-gold-400/20',
                'bg-red-500/10', 'bg-navy-700', 'bg-navy-700/50', 'bg-navy-800', 'bg-navy-900',
                'border-emerald-500/30', 'border-blue-500/30', 'border-red-500/30', 'border-white/5',
                // Flexbox
                'flex', 'flex-wrap', 'inline-flex', 'items-center', 'justify-between', 'justify-center',
                'gap-1', 'gap-2', 'gap-3', 'gap-4', 'w-full', 'w-4/5', 'w-3/5', 'h-4', 'h-8',
                // Misc
                'no-underline', 'cursor-pointer', 'pointer-events-none',
                'from-gold-400', 'via-gold-200', 'to-gold-400', 'bg-gradient-to-r',
                'hover:bg-navy-800', 'hover:opacity-70', 'hover:text-gold-400',
                'hover:shadow-[0_0_15px_rgba(212,175,55,0.2)]', 'shadow-gold',
                'fixed', 'bottom-8', 'right-8', 'z-[1000]', 'translate-y-24', 'translate-y-0',
                'text-center', 'text-left', 'border-dashed', 'last:border-b-0',
                'inline-block', 'scroll-smooth', 'max-h-[700px]', 'max-w-md', 'max-w-xs',
                'disabled:opacity-50', 'disabled:cursor-not-allowed', 'disabled:hover:translate-y-0',
                // Analyzer colors
                'text-red-300', 'text-red-400', 'text-yellow-400', 'text-yellow-300', 'text-orange-300', 'text-orange-400',
                'text-blue-400', 'text-blue-300/70', 'text-4xl', 'text-[10px]',
                'bg-red-500', 'bg-yellow-500', 'bg-emerald-500', 'bg-emerald-400',
                'bg-red-500/10', 'bg-red-500/20', 'bg-orange-500/10', 'bg-orange-500/20', 'bg-emerald-500/10', 'bg-emerald-500/20',
                'bg-yellow-500/10', 'bg-yellow-500/20', 'bg-blue-500/10',
                'border-red-500/20', 'border-red-500/30', 'border-emerald-500/20', 'border-emerald-500/30',
                'border-yellow-500/20', 'border-yellow-500/30', 'border-blue-500/20', 'border-orange-500/20',
                'border-navy-600',
                'text-5xl', 'space-y-2', 'space-y-3', 'space-y-4', 'space-y-5', 'space-y-6',
                'w-20', 'w-32', 'h-3', 'h-full', 'grid-cols-3', 'grid-cols-4',
                'tracking-wide', 'uppercase', 'max-h-[600px]'
            ],
            theme: {
                extend: {
                    colors: {
                        gold: {
                            50: '#fdf9e9',
                            100: '#f9f0c8',
                            200: '#f4e5a1',
                            300: '#e6c860',
                            400: '#d4af37',
                            500: '#c9a961',
                            600: '#b8941e',
                            700: '#8b7355',
                            800: '#6b5a3e',
                            900: '#4a3f2c',
                        },
                        navy: {
                            900: '#0a0e1a',
                            800: '#141824',
                            700: '#1a1f2e',
                            600: '#1a2332',
                        }
                    },
                    fontFamily: {
                        'display': ['Playfair Display', 'serif'],
                        'sans': ['DM Sans', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'shimmer': 'shimmer 3s infinite',
                        'spin-slow': 'spin 1s linear infinite',
                        'fade-in-up': 'fadeInUp 0.4s ease forwards',
                        'bg-float': 'bgFloat 20s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px) rotate(0deg)' },
                            '50%': { transform: 'translateY(-10px) rotate(5deg)' },
                        },
                        shimmer: {
                            '0%': { left: '-100%' },
                            '100%': { left: '100%' },
                        },
                        fadeInUp: {
                            'from': { opacity: '0', transform: 'translateY(20px)' },
                            'to': { opacity: '1', transform: 'translateY(0)' },
                        },
                        bgFloat: {
                            '0%, 100%': { transform: 'translate(0, 0) rotate(0deg)' },
                            '33%': { transform: 'translate(30px, -30px) rotate(5deg)' },
                            '66%': { transform: 'translate(-20px, 20px) rotate(-5deg)' },
                        }
                    },
                    boxShadow: {
                        'gold': '0 4px 20px rgba(212, 175, 55, 0.4), 0 2px 8px rgba(212, 175, 55, 0.3)',
                        'gold-glow': '0 0 40px rgba(212, 175, 55, 0.5), 0 0 20px rgba(212, 175, 55, 0.3)',
                        'gold-intense': '0 0 60px rgba(212, 175, 55, 0.4), 0 4px 30px rgba(212, 175, 55, 0.3)',
                    }
                }
            }
        }
    </script>

    <!-- Custom styles for animations and pseudo-elements -->
    <link rel="stylesheet" href="styles.css">
</head>

<body class="font-sans bg-navy-900 text-white min-h-screen overflow-x-hidden leading-relaxed">
    <!-- Animated Background -->
    <div class="fixed inset-0 -z-10 animate-bg-float" style="
        width: 200%;
        height: 200%;
        top: -50%;
        left: -50%;
        background: 
            radial-gradient(circle at 20% 50%, rgba(212, 175, 55, 0.12) 0%, transparent 50%),
            radial-gradient(circle at 80% 80%, rgba(255, 215, 0, 0.08) 0%, transparent 50%),
            radial-gradient(circle at 40% 20%, rgba(201, 169, 97, 0.1) 0%, transparent 50%);
    "></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Header -->
        <header class="py-12 text-center">
            <div class="inline-flex items-center gap-4 mb-6">
                <div class="w-14 h-14 bg-gradient-to-br from-gold-400 via-gold-200 to-gold-400 rounded-xl flex items-center justify-center text-2xl shadow-gold-glow shadow-gold-intense animate-float border-2 border-gold-400/30">
                    üîç
                </div>
            </div>
            <h1 class=" text-4xl md:text-5xl font-extrabold mb-4 bg-gradient-to-r from-gold-400 via-gold-200 to-gold-400 bg-clip-text text-transparent drop-shadow-[0_0_20px_rgba(212,175,55,0.3)]">
                EssayGPT
            </h1>
            <p class="text-lg text-gold-200/80 max-w-xl mx-auto">
                Search academic databases, collect sources, and draft essays ‚Äî all in one place
            </p>
        </header>

        <!-- Navigation Tabs -->
        <nav class="flex justify-center gap-4 mb-8 flex-wrap">
            <button class="nav-tab active text-lg font-semibold px-6 py-3 text-gold-400 relative transition-colors hover:text-white" data-tab="search">
                üîç Search
            </button>
            <button class="nav-tab text-lg font-semibold px-6 py-3 text-gold-200/60 relative transition-colors hover:text-white" data-tab="writer">
                ‚ú® Writer
            </button>
            <button class="nav-tab text-lg font-semibold px-6 py-3 text-gold-200/60 relative transition-colors hover:text-white" data-tab="summarizer">
                üìã Summarizer
            </button>
            <button class="nav-tab text-lg font-semibold px-6 py-3 text-gold-200/60 relative transition-colors hover:text-white" data-tab="analyzer">
                üî¨ Analyzer
            </button>
        </nav>

        <!-- Search View -->
        <section id="search-view" class="view-section active">
            <section class="my-8">
                <div class="search-container bg-gold-400/[0.08] backdrop-blur-xl border-2 border-gold-400/20 rounded-3xl p-8 shadow-gold transition-all duration-300 hover:border-gold-400/50 hover:shadow-gold-glow relative overflow-hidden">
                    <!-- Shimmer line -->
                    <div class="shimmer-line absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-gold-400 via-gold-200 to-gold-400"></div>
                    
                    <div class="flex flex-col sm:flex-row gap-4 mb-6">
                        <input type="text" 
                            class="flex-1 px-6 py-4 bg-navy-800 border-2 border-gold-400/15 rounded-2xl text-white text-lg font-sans placeholder:text-gray-500 transition-all duration-300 focus:outline-none focus:border-gold-400 focus:shadow-[0_0_0_4px_rgba(212,175,55,0.15),0_0_20px_rgba(212,175,55,0.2)] focus:bg-gold-400/[0.03]" 
                            id="searchInput"
                            placeholder="Enter your research topic or keywords..." 
                            aria-label="Search query input">
                        <button class="btn-primary px-8 py-4 bg-gradient-to-r from-gold-400 via-gold-200 to-gold-400 text-navy-900 rounded-2xl font-bold flex items-center justify-center gap-2 shadow-gold border border-gold-400/30 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-gold-glow active:translate-y-0 relative overflow-hidden" 
                            id="searchBtn" 
                            aria-label="Search databases">
                            <span>üöÄ</span>
                            <span>Search</span>
                        </button>
                    </div>

                    <div class="text-center mt-6 p-4 bg-gold-400/5 rounded-xl border border-gold-400/10">
                        <p class="text-gold-200/80 text-sm">
                            üí° Searching across <strong class="text-gold-400">Semantic Scholar</strong>, <strong class="text-gold-400">CrossRef</strong>, and <strong class="text-gold-400">arXiv</strong>
                        </p>
                    </div>
                </div>
            </section>

            <!-- Loading Indicator -->
            <div class="hidden text-center py-16 my-8" id="loadingIndicator">
                <div class="w-16 h-16 mx-auto mb-6 border-4 border-gold-400/10 border-t-gold-400 rounded-full animate-spin-slow"></div>
                <p class="text-gold-200/80 text-lg">Fetching results from multiple sources...</p>
            </div>

            <!-- Results Section -->
            <section class="hidden" id="resultsSection">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6">
                    <h2 class="text-2xl font-bold text-white">
                        Found <strong class="text-gold-400 drop-shadow-[0_0_10px_rgba(212,175,55,0.3)]" id="resultsCount">0</strong> papers
                    </h2>
                    <div class="flex gap-4 w-full sm:w-auto">
                        <select class="w-full sm:w-auto px-4 py-3 bg-navy-800 border-2 border-gold-400/20 rounded-xl text-white text-sm font-sans cursor-pointer transition-all duration-300 focus:outline-none focus:border-gold-400 focus:shadow-[0_0_0_3px_rgba(212,175,55,0.1)] hover:border-gold-400" 
                            id="sortSelect">
                            <option value="relevance">Sort by: Relevance</option>
                            <option value="citations">Sort by: Citations</option>
                            <option value="year">Sort by: Year</option>
                        </select>
                    </div>
                </div>

                <div class="flex flex-col gap-6" id="resultsContainer">
                    <!-- Paper cards will be dynamically inserted here -->
                </div>
            </section>
        </section>

        <!-- Essay Writer View -->
        <section id="writer-view" class="view-section hidden">
            <div class="bg-gold-400/[0.08] backdrop-blur-xl border border-gold-400/10 rounded-3xl p-8 mt-6">
                <div class="text-center mb-10">
                    <h2 class="text-gold-400  text-3xl font-bold mb-2">AI Essay Writer</h2>
                    <p class="text-gold-200/60">Generate comprehensive, well-cited essays powered by GPT-4 or Claude.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-[380px_1fr] gap-10">
                    <!-- Configuration -->
                    <div class="flex flex-col gap-6 lg:pr-8 lg:border-r border-gold-400/10">
                        <!-- AI Configuration -->
                        <div class="p-4 bg-navy-700/50 rounded-xl border border-gold-400/10">
                            <div class="flex items-center gap-2 mb-4">
                                <span class="text-lg">ü§ñ</span>
                                <span class="text-gold-400 font-semibold">AI Configuration</span>
                            </div>
                            
                            <div class="flex flex-col gap-4">
                                <div class="flex flex-col gap-2">
                                    <label for="aiProvider" class="text-gold-200/80 text-xs font-semibold">Provider</label>
                                    <select id="aiProvider" 
                                        class="bg-navy-800 border border-gold-400/20 rounded-lg p-3 text-white text-sm font-sans transition-all duration-150 focus:outline-none focus:border-gold-400">
                                        <option value="gemini">Google Gemini 2.0 Flash</option>
                                        <option value="gemini-pro">Google Gemini 1.5 Pro</option>
                                        <option value="openai">OpenAI (GPT-4o)</option>
                                        <option value="openai-mini">OpenAI (GPT-4o-mini)</option>
                                        <option value="anthropic">Anthropic (Claude)</option>
                                    </select>
                                </div>
                                
                                <div class="flex flex-col gap-2">
                                    <label for="apiKey" class="text-gold-200/80 text-xs font-semibold">API Key</label>
                                    <div class="relative">
                                        <input type="password" id="apiKey" 
                                            class="w-full bg-navy-800 border border-gold-400/20 rounded-lg p-3 pr-10 text-white text-sm font-sans transition-all duration-150 focus:outline-none focus:border-gold-400"
                                            placeholder="AIza... (Gemini) / sk-... (OpenAI)">
                                        <button type="button" id="toggleApiKey" class="absolute right-3 top-1/2 -translate-y-1/2 text-gold-200/60 hover:text-gold-400 transition-colors">
                                            üëÅ
                                        </button>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <p class="text-xs text-gold-200/40">Stored locally. <a href="https://aistudio.google.com/apikey" target="_blank" class="text-gold-400 hover:underline">Get free key</a></p>
                                        <button type="button" id="useDemoAiKeyBtn" class="text-xs px-2 py-1 bg-emerald-500/20 text-emerald-400 rounded hover:bg-emerald-500/30 transition-colors">
                                            üöÄ Use Demo
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="flex flex-col gap-2">
                            <label for="essayTopic" class="text-gold-200/80 text-sm font-semibold">Essay Topic / Prompt</label>
                            <textarea id="essayTopic" 
                                class="min-h-[120px] resize-y bg-navy-800 border border-gold-400/20 rounded-lg p-4 text-white font-sans transition-all duration-150 focus:outline-none focus:border-gold-400 focus:shadow-[0_0_0_2px_rgba(212,175,55,0.1)]" 
                                placeholder="Describe your essay topic, specific requirements, or paste your assignment prompt..."></textarea>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div class="flex flex-col gap-2">
                                <label for="essayLength" class="text-gold-200/80 text-sm font-semibold">Length</label>
                                <select id="essayLength" 
                                    class="bg-navy-800 border border-gold-400/20 rounded-lg p-3 text-white text-sm font-sans transition-all duration-150 focus:outline-none focus:border-gold-400">
                                    <option value="short">~500 words</option>
                                    <option value="medium" selected>~1500 words</option>
                                    <option value="long">~3000 words</option>
                                </select>
                            </div>
                            <div class="flex flex-col gap-2">
                                <label for="essayStyle" class="text-gold-200/80 text-sm font-semibold">Style</label>
                                <select id="essayStyle" 
                                    class="bg-navy-800 border border-gold-400/20 rounded-lg p-3 text-white text-sm font-sans transition-all duration-150 focus:outline-none focus:border-gold-400">
                                    <option value="academic">Academic</option>
                                    <option value="argumentative">Argumentative</option>
                                    <option value="analytical">Analytical</option>
                                    <option value="expository">Expository</option>
                                    <option value="narrative">Narrative</option>
                                </select>
                            </div>
                        </div>

                        <div class="flex flex-col gap-2">
                            <label for="citationFormat" class="text-gold-200/80 text-sm font-semibold">Citation Format</label>
                            <select id="citationFormat" 
                                class="bg-navy-800 border border-gold-400/20 rounded-lg p-3 text-white text-sm font-sans transition-all duration-150 focus:outline-none focus:border-gold-400">
                                <option value="apa7" selected>APA 7th Edition</option>
                                <option value="mla9">MLA 9th Edition</option>
                                <option value="chicago">Chicago / Turabian</option>
                                <option value="harvard">Harvard</option>
                                <option value="ieee">IEEE</option>
                                <option value="ama">AMA (Medical)</option>
                            </select>
                        </div>

                        <!-- Humanize Mode Toggle -->
                        <div class="p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <span class="text-xl">üõ°Ô∏è</span>
                                    <div>
                                        <label for="humanizeMode" class="text-emerald-400 text-sm font-semibold cursor-pointer">Humanize Mode</label>
                                        <p class="text-emerald-400/60 text-xs">Writes to avoid AI detection patterns</p>
                                    </div>
                                </div>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="humanizeMode" class="sr-only peer" checked>
                                    <div class="w-11 h-6 bg-navy-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"></div>
                                </label>
                            </div>
                        </div>

                        <div class="flex flex-col gap-2">
                            <div class="flex justify-between items-center">
                                <label class="text-gold-200/80 text-sm font-semibold">Selected Sources (<span id="writerSourceCount">0</span>)</label>
                                <button class="text-xs text-red-400/70 hover:text-red-400 transition-colors" 
                                    onclick="window.AcademicSourceFinder.clearAllSources()">
                                    Clear All
                                </button>
                            </div>
                            <div id="writerSourcesList" class="bg-navy-800 rounded-lg p-4 max-h-[150px] overflow-y-auto border border-gold-400/10">
                                <p class="text-gray-500 text-sm">No sources selected yet. Go to Search to add sources.</p>
                            </div>
                            <button class="mt-2 px-4 py-2 bg-navy-700 text-white border border-gold-400/20 rounded-lg text-sm font-semibold transition-all duration-300 hover:bg-navy-800 hover:border-gold-400 hover:shadow-[0_0_15px_rgba(212,175,55,0.2)]" 
                                id="addManualSourceBtn">
                                + Add Manual Source
                            </button>
                        </div>

                        <button class="w-full px-6 py-4 bg-gradient-to-r from-gold-400 via-gold-200 to-gold-400 text-navy-900 rounded-2xl font-bold flex items-center justify-center gap-2 shadow-gold border border-gold-400/30 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-gold-glow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0" 
                            id="generateDraftBtn">
                            <span id="generateBtnIcon">‚ú®</span> 
                            <span id="generateBtnText">Generate with AI</span>
                        </button>
                        
                        <button class="hidden w-full px-6 py-3 bg-red-500/20 text-red-400 border border-red-500/30 rounded-xl font-semibold transition-all duration-300 hover:bg-red-500/30" 
                            id="stopGenerationBtn">
                            ‚èπ Stop Generation
                        </button>
                    </div>

                    <!-- Output -->
                    <div class="flex flex-col gap-4">
                        <div id="draftOutput" class="draft-content bg-navy-800 border border-gold-400/10 rounded-xl p-6 min-h-[500px] max-h-[700px] font-sans leading-relaxed text-white overflow-y-auto flex items-center justify-center text-center text-gray-500 scroll-smooth">
                            <div class="placeholder-content">
                                <span class="text-5xl block mb-4 opacity-50">ü§ñ</span>
                                <h3 class="text-xl font-bold mb-2 text-gray-400">AI-Powered Essay Writer</h3>
                                <p class="text-gray-500 max-w-md">Add your API key, select sources, and describe your topic. The AI will generate a comprehensive, properly-cited essay in real-time.</p>
                            </div>
                        </div>
                        <div class="hidden flex-wrap justify-end gap-3" id="writerActions">
                            <button class="px-5 py-3 bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 rounded-xl font-semibold transition-all duration-300 hover:bg-emerald-500/30 hover:border-emerald-500/50 flex items-center gap-2" 
                                id="refineEssayBtn">
                                <span>üõ°Ô∏è</span> Humanize
                            </button>
                            <button class="px-5 py-3 bg-navy-700 text-white border border-gold-400/20 rounded-xl font-semibold transition-all duration-300 hover:bg-navy-800 hover:border-gold-400" 
                                id="copyDraftBtn">
                                üìã Copy
                            </button>
                            <button class="px-5 py-3 bg-navy-700 text-white border border-gold-400/20 rounded-xl font-semibold transition-all duration-300 hover:bg-navy-800 hover:border-gold-400" 
                                id="downloadDraftBtn">
                                üíæ Download
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Summarizer View -->
        <section id="summarizer-view" class="view-section hidden">
            <div class="bg-gold-400/[0.08] backdrop-blur-xl border border-gold-400/10 rounded-3xl p-8 mt-6">
                <div class="text-center mb-8">
                    <h2 class="text-gold-400 text-3xl font-bold mb-2">Abstract Summarizer</h2>
                    <p class="text-gold-200/60">Quickly understand complex papers with AI-powered summaries</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Input Section -->
                    <div class="flex flex-col gap-4">
                        <div class="flex justify-between items-center">
                            <label class="text-gold-200/80 text-sm font-semibold">Paste Abstract or Paper Text</label>
                            <span class="text-xs text-gold-200/40" id="summarizerCharCount">0 characters</span>
                        </div>
                        <textarea id="summarizerInput" 
                            class="min-h-[300px] resize-y bg-navy-800 border border-gold-400/20 rounded-xl p-4 text-white font-sans text-sm leading-relaxed transition-all duration-150 focus:outline-none focus:border-gold-400"
                            placeholder="Paste an abstract, paper excerpt, or any academic text you want to summarize..."></textarea>
                        
                        <!-- Summary Mode Selection -->
                        <div class="flex flex-col gap-2">
                            <label class="text-gold-200/80 text-sm font-semibold">Summary Mode</label>
                            <div class="grid grid-cols-3 gap-2">
                                <button class="summary-mode-btn active px-3 py-2 bg-gold-400/20 border border-gold-400/30 rounded-lg text-sm font-medium text-gold-200 transition-all" data-mode="bullets">
                                    üìå Key Points
                                </button>
                                <button class="summary-mode-btn px-3 py-2 bg-navy-700 border border-gold-400/20 rounded-lg text-sm font-medium text-gold-200/60 transition-all hover:border-gold-400/40" data-mode="paragraph">
                                    üìù Paragraph
                                </button>
                                <button class="summary-mode-btn px-3 py-2 bg-navy-700 border border-gold-400/20 rounded-lg text-sm font-medium text-gold-200/60 transition-all hover:border-gold-400/40" data-mode="eli5">
                                    üßí ELI5
                                </button>
                            </div>
                        </div>
                        
                        <button id="summarizeBtn" 
                            class="w-full px-6 py-4 bg-gradient-to-r from-gold-400 via-gold-200 to-gold-400 text-navy-900 rounded-2xl font-bold flex items-center justify-center gap-2 shadow-gold transition-all duration-300 hover:-translate-y-0.5 hover:shadow-gold-glow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0">
                            <span id="summarizeBtnIcon">üìã</span>
                            <span id="summarizeBtnText">Summarize</span>
                        </button>

                        <!-- API Key Notice -->
                        <p class="text-xs text-gold-200/40 text-center">
                            Uses your API key from the Writer tab. <a href="#" onclick="window.AcademicSourceFinder.switchTab('writer'); return false;" class="text-gold-400 hover:underline">Set it up there first</a>.
                        </p>
                    </div>

                    <!-- Output Section -->
                    <div class="flex flex-col gap-4">
                        <div class="flex justify-between items-center">
                            <label class="text-gold-200/80 text-sm font-semibold">Summary</label>
                            <button id="copySummaryBtn" class="text-xs text-gold-400 hover:text-gold-200 transition-colors hidden">
                                üìã Copy
                            </button>
                        </div>
                        <div id="summarizerOutput" class="bg-navy-800 border border-gold-400/10 rounded-xl p-6 min-h-[300px] overflow-y-auto">
                            <div class="flex flex-col items-center justify-center h-full text-center text-gray-500">
                                <span class="text-5xl mb-4 opacity-50">üìö</span>
                                <h3 class="text-lg font-bold text-gray-400 mb-2">Ready to Summarize</h3>
                                <p class="text-sm max-w-xs">Paste an abstract or paper text and choose how you'd like it summarized.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analyzer View -->
        <section id="analyzer-view" class="view-section hidden">
            <div class="bg-gold-400/[0.08] backdrop-blur-xl border border-gold-400/10 rounded-3xl p-8 mt-6">
                <div class="text-center mb-8">
                    <h2 class="text-gold-400 text-3xl font-bold mb-2">AI Detection Hub</h2>
                    <p class="text-gold-200/60">Local analysis + free API detectors (GPTZero, Sapling, ZeroGPT)</p>
                </div>

                <!-- API Keys for Free Detectors -->
                <div class="mb-6 p-4 bg-navy-800/50 rounded-xl border border-gold-400/10">
                    <div class="flex items-center justify-between mb-3">
                        <h3 class="text-gold-400 font-semibold text-sm flex items-center gap-2">
                            <span>üîë</span> Free API Keys (Optional - unlocks more detectors)
                        </h3>
                        <button id="toggleDetectorKeys" class="text-xs text-gold-200/60 hover:text-gold-400 transition-colors">
                            Show/Hide
                        </button>
                    </div>
                    <div id="detectorKeysSection" class="hidden">
                        <!-- Quick Start -->
                        <div class="mb-4 p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-lg">
                            <div class="flex items-center justify-between">
                                <div>
                                    <span class="text-emerald-400 font-semibold text-sm">üöÄ Quick Start</span>
                                    <p class="text-gold-200/50 text-xs mt-1">Use shared demo keys (may have rate limits)</p>
                                </div>
                                <button id="useDemoKeysBtn" class="px-4 py-2 bg-emerald-500/20 text-emerald-400 rounded-lg text-sm font-medium hover:bg-emerald-500/30 transition-colors">
                                    Use Demo Keys
                                </button>
                            </div>
                        </div>
                        
                        <p class="text-gold-200/50 text-xs mb-3">Or enter your own keys for unlimited use:</p>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <div class="flex flex-col gap-1">
                                <label class="text-gold-200/70 text-xs flex items-center gap-2">
                                    üéØ ZeroGPT API
                                    <a href="https://www.zerogpt.com/my-account" target="_blank" class="text-gold-400 hover:underline">(Free)</a>
                                </label>
                                <input type="password" id="zerogptKey" 
                                    class="bg-navy-700 border border-gold-400/20 rounded-lg p-2 text-white text-sm"
                                    placeholder="Enter ZeroGPT API key...">
                            </div>
                            <div class="flex flex-col gap-1">
                                <label class="text-gold-200/70 text-xs flex items-center gap-2">
                                    ü§ñ GPTZero API
                                    <a href="https://gptzero.me/docs" target="_blank" class="text-gold-400 hover:underline">(Free tier)</a>
                                </label>
                                <input type="password" id="gptzeroKey" 
                                    class="bg-navy-700 border border-gold-400/20 rounded-lg p-2 text-white text-sm"
                                    placeholder="Enter GPTZero API key...">
                            </div>
                            <div class="flex flex-col gap-1">
                                <label class="text-gold-200/70 text-xs flex items-center gap-2">
                                    üå± Sapling AI
                                    <a href="https://sapling.ai/user/apikeys" target="_blank" class="text-gold-400 hover:underline">(Free)</a>
                                </label>
                                <input type="password" id="saplingKey" 
                                    class="bg-navy-700 border border-gold-400/20 rounded-lg p-2 text-white text-sm"
                                    placeholder="Enter Sapling API key...">
                            </div>
                        </div>
                        <div class="flex gap-2 mt-3">
                            <button id="saveDetectorKeysBtn" class="px-4 py-2 bg-gold-400/20 text-gold-400 rounded-lg text-sm hover:bg-gold-400/30 transition-colors">
                                Save My Keys
                            </button>
                            <button id="clearKeysBtn" class="px-4 py-2 bg-red-500/10 text-red-400 rounded-lg text-sm hover:bg-red-500/20 transition-colors">
                                Clear Keys
                            </button>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Input Section -->
                    <div class="flex flex-col gap-4">
                        <div class="flex justify-between items-center">
                            <label class="text-gold-200/80 text-sm font-semibold">Paste Your Essay</label>
                            <button id="loadFromWriterBtn" class="text-xs text-gold-400 hover:text-gold-200 transition-colors">
                                üìù Load from Writer
                            </button>
                        </div>
                        <textarea id="analyzerInput" 
                            class="min-h-[350px] resize-y bg-navy-800 border border-gold-400/20 rounded-xl p-4 text-white font-sans text-sm leading-relaxed transition-all duration-150 focus:outline-none focus:border-gold-400"
                            placeholder="Paste your essay text here (minimum 50 words for accurate detection)..."></textarea>
                        
                        <div class="flex gap-3">
                            <button id="analyzeBtn" 
                                class="flex-1 px-6 py-4 bg-gradient-to-r from-gold-400 via-gold-200 to-gold-400 text-navy-900 rounded-2xl font-bold flex items-center justify-center gap-2 shadow-gold transition-all duration-300 hover:-translate-y-0.5 hover:shadow-gold-glow disabled:opacity-50 disabled:cursor-not-allowed">
                                <span id="analyzeBtnIcon">üî¨</span> 
                                <span id="analyzeBtnText">Run All Detectors</span>
                            </button>
                            <button id="clearAnalyzerBtn" 
                                class="px-6 py-4 bg-navy-700 text-white border border-gold-400/20 rounded-2xl font-semibold transition-all duration-300 hover:bg-navy-800 hover:border-gold-400">
                                Clear
                            </button>
                        </div>
                        
                        <div class="text-xs text-gold-200/40 text-center">
                            üî¨ Local analysis + ZeroGPT (free) + GPTZero & Sapling (with keys)
                        </div>
                    </div>

                    <!-- Results Section -->
                    <div class="flex flex-col gap-4">
                        <div id="analysisResults" class="bg-navy-800 border border-gold-400/10 rounded-xl p-6 min-h-[350px] max-h-[600px] overflow-y-auto">
                            <div class="flex flex-col items-center justify-center h-full text-center text-gray-500">
                                <span class="text-5xl mb-4 opacity-50">üî¨</span>
                                <h3 class="text-lg font-bold text-gray-400 mb-2">Multi-Detector Analysis</h3>
                                <p class="text-sm max-w-xs">Paste your essay and click "Run All Detectors" to get results from multiple AI detection services.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Manual Verification Links -->
                <div class="mt-8 p-6 bg-navy-800/50 rounded-xl border border-gold-400/10">
                    <h3 class="text-gold-400 font-semibold mb-4 flex items-center gap-2">
                        <span>üîó</span> Manual Verification (Click to open & paste)
                    </h3>
                    <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-3" id="detectorLinks">
                        <button class="detector-link px-3 py-2 bg-navy-700 hover:bg-navy-600 border border-gold-400/20 hover:border-gold-400 rounded-lg text-xs font-medium text-white transition-all duration-200 flex flex-col items-center gap-1" data-url="https://gptzero.me">
                            <span>ü§ñ</span><span>GPTZero</span>
                        </button>
                        <button class="detector-link px-3 py-2 bg-navy-700 hover:bg-navy-600 border border-gold-400/20 hover:border-gold-400 rounded-lg text-xs font-medium text-white transition-all duration-200 flex flex-col items-center gap-1" data-url="https://zerogpt.com">
                            <span>üéØ</span><span>ZeroGPT</span>
                        </button>
                        <button class="detector-link px-3 py-2 bg-navy-700 hover:bg-navy-600 border border-gold-400/20 hover:border-gold-400 rounded-lg text-xs font-medium text-white transition-all duration-200 flex flex-col items-center gap-1" data-url="https://writer.com/ai-content-detector/">
                            <span>‚úçÔ∏è</span><span>Writer</span>
                        </button>
                        <button class="detector-link px-3 py-2 bg-navy-700 hover:bg-navy-600 border border-gold-400/20 hover:border-gold-400 rounded-lg text-xs font-medium text-white transition-all duration-200 flex flex-col items-center gap-1" data-url="https://contentatscale.ai/ai-content-detector/">
                            <span>üìù</span><span>ContentScale</span>
                        </button>
                        <button class="detector-link px-3 py-2 bg-navy-700 hover:bg-navy-600 border border-gold-400/20 hover:border-gold-400 rounded-lg text-xs font-medium text-white transition-all duration-200 flex flex-col items-center gap-1" data-url="https://www.scribbr.com/ai-detector/">
                            <span>üìö</span><span>Scribbr</span>
                        </button>
                        <button class="detector-link px-3 py-2 bg-navy-700 hover:bg-navy-600 border border-gold-400/20 hover:border-gold-400 rounded-lg text-xs font-medium text-white transition-all duration-200 flex flex-col items-center gap-1" data-url="https://quillbot.com/ai-content-detector">
                            <span>ü™∂</span><span>QuillBot</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Manual Source Modal -->
        <div id="manualSourceModal" class="modal hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-[2000] flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
            <div class="modal-content bg-navy-800 border border-gold-400/20 rounded-2xl p-8 w-full max-w-lg shadow-gold translate-y-5 transition-transform duration-300">
                <h3 class="text-xl font-bold text-gold-400 mb-6">Add Manual Source</h3>
                
                <div class="flex flex-col gap-4">
                    <div class="flex flex-col gap-2">
                        <label class="text-gold-200/80 text-sm font-semibold">Title</label>
                        <input type="text" id="manualTitle" 
                            class="bg-navy-700 border border-gold-400/20 rounded-lg p-3 text-white font-sans transition-all duration-150 focus:outline-none focus:border-gold-400 focus:shadow-[0_0_0_2px_rgba(212,175,55,0.1)]"
                            placeholder="Paper/Article Title">
                    </div>
                    <div class="flex flex-col gap-2">
                        <label class="text-gold-200/80 text-sm font-semibold">Author(s)</label>
                        <input type="text" id="manualAuthor" 
                            class="bg-navy-700 border border-gold-400/20 rounded-lg p-3 text-white font-sans transition-all duration-150 focus:outline-none focus:border-gold-400 focus:shadow-[0_0_0_2px_rgba(212,175,55,0.1)]"
                            placeholder="e.g. Smith, J.">
                    </div>
                    <div class="flex flex-col gap-2">
                        <label class="text-gold-200/80 text-sm font-semibold">Year</label>
                        <input type="number" id="manualYear" 
                            class="bg-navy-700 border border-gold-400/20 rounded-lg p-3 text-white font-sans transition-all duration-150 focus:outline-none focus:border-gold-400 focus:shadow-[0_0_0_2px_rgba(212,175,55,0.1)]"
                            placeholder="2024">
                    </div>
                    <div class="flex flex-col gap-2">
                        <label class="text-gold-200/80 text-sm font-semibold">URL (Optional)</label>
                        <input type="url" id="manualUrl" 
                            class="bg-navy-700 border border-gold-400/20 rounded-lg p-3 text-white font-sans transition-all duration-150 focus:outline-none focus:border-gold-400 focus:shadow-[0_0_0_2px_rgba(212,175,55,0.1)]"
                            placeholder="https://...">
                    </div>
                </div>
                
                <div class="flex justify-end gap-4 mt-8">
                    <button class="px-6 py-3 bg-navy-700 text-white border border-gold-400/20 rounded-xl font-semibold transition-all duration-300 hover:bg-navy-900 hover:border-gold-400" 
                        id="cancelManualSourceBtn">
                        Cancel
                    </button>
                    <button class="px-6 py-3 bg-gradient-to-r from-gold-400 via-gold-200 to-gold-400 text-navy-900 rounded-xl font-bold transition-all duration-300 hover:-translate-y-0.5 hover:shadow-gold-glow" 
                        id="saveManualSourceBtn">
                        Add Source
                    </button>
                </div>
            </div>
        </div>

        <!-- Floating Sources Panel Toggle -->
        <button id="sourcesToggleBtn" 
            class="fixed bottom-8 right-8 w-16 h-16 rounded-full bg-gradient-to-r from-gold-400 via-gold-200 to-gold-400 border-none shadow-gold cursor-pointer z-[900] flex items-center justify-center text-2xl transition-transform duration-300 hover:scale-110">
            <span>üìö</span>
            <span class="badge-count hidden absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center border-2 border-navy-900" id="floatingSourceCount">0</span>
        </button>

        <!-- Sources Slide-out Panel -->
        <div id="sourcesPanel" class="sources-panel fixed top-0 -right-[400px] w-[350px] h-screen bg-navy-700 border-l border-gold-400/20 shadow-[-5px_0_30px_rgba(0,0,0,0.5)] z-[1000] transition-all duration-500 flex flex-col">
            <div class="p-4 bg-black/20 flex justify-between items-center border-b border-white/5">
                <div class="flex items-center gap-3">
                    <h3 class="text-lg font-bold text-white">My Sources</h3>
                    <span class="text-xs text-gold-200/40">Auto-saved</span>
                </div>
                <div class="flex items-center gap-2">
                    <button class="text-xs text-red-400/70 hover:text-red-400 transition-colors px-2 py-1" 
                        onclick="window.AcademicSourceFinder.clearAllSources()">
                        Clear
                    </button>
                    <button class="bg-transparent border-none text-gold-200/60 text-2xl cursor-pointer hover:text-white" id="closePanelBtn">√ó</button>
                </div>
            </div>
            <div class="flex-1 p-4 overflow-y-auto" id="panelSourcesList">
                <p class="text-gray-500 text-sm">No sources selected.</p>
            </div>
            <div class="p-4 border-t border-white/5 bg-black/20">
                <button class="w-full px-6 py-4 bg-gradient-to-r from-gold-400 via-gold-200 to-gold-400 text-navy-900 rounded-2xl font-bold transition-all duration-300 hover:-translate-y-0.5 hover:shadow-gold-glow" 
                    id="goToWriterBtn">
                    Go to Essay Writer
                </button>
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-16 py-10 text-center border-t border-gold-400/15">
            <div class="text-gray-500 text-sm">
                <p>Made by Nicolas Siguero for students and researchers</p>
                <p class="mt-2 text-xs">
                    Powered by Semantic Scholar, CrossRef, and arXiv APIs
                </p>
            </div>
        </footer>
    </div>

    <!-- JavaScript -->
    <script src="script.js"></script>
    <!-- Tutorial Overlay -->
    <div id="tutorialOverlay" class="fixed inset-0 z-[9999] hidden">
        <!-- Dark backdrop -->
        <div id="tutorialBackdrop" class="absolute inset-0 bg-black/80 transition-all duration-300"></div>
        
        <!-- Spotlight hole (will be positioned dynamically) -->
        <div id="tutorialSpotlight" class="absolute rounded-2xl transition-all duration-500 ease-out shadow-[0_0_0_9999px_rgba(0,0,0,0.85)] border-2 border-gold-400 pointer-events-none"></div>
        
        <!-- Tutorial card - Fixed position bottom right -->
        <div id="tutorialCard" class="fixed bg-navy-800/95 border border-gold-400/30 rounded-2xl p-5 shadow-2xl z-10">
            <!-- Tab indicator -->
            <div id="tutorialTabIndicator" class="text-xs text-emerald-400 font-semibold mb-2 px-2 py-1 bg-emerald-500/20 rounded-lg inline-block">
                üîç Search Tab
            </div>
            
            <div class="flex items-center gap-2 mb-2">
                <span id="tutorialStepIcon" class="text-2xl">üìö</span>
                <span class="text-xs text-gold-400 font-semibold uppercase tracking-wide">Step <span id="tutorialStepNum">1</span> of 5</span>
            </div>
            <h3 id="tutorialTitle" class="text-lg font-bold text-white mb-2">Welcome to ScholarFlow!</h3>
            <p id="tutorialDescription" class="text-gold-200/70 text-sm mb-3 leading-relaxed">Let's learn how to write amazing essays in 5 easy steps.</p>
            
            <!-- Progress dots -->
            <div class="flex justify-center gap-2 mb-3">
                <div class="tutorial-dot w-2 h-2 rounded-full bg-gold-400 transition-all"></div>
                <div class="tutorial-dot w-2 h-2 rounded-full bg-gold-400/30 transition-all"></div>
                <div class="tutorial-dot w-2 h-2 rounded-full bg-gold-400/30 transition-all"></div>
                <div class="tutorial-dot w-2 h-2 rounded-full bg-gold-400/30 transition-all"></div>
                <div class="tutorial-dot w-2 h-2 rounded-full bg-gold-400/30 transition-all"></div>
            </div>
            
            <!-- Buttons -->
            <div class="flex gap-2">
                <button id="tutorialPrev" class="flex-1 px-4 py-2 bg-navy-700 text-gold-200/70 rounded-lg text-sm hover:bg-navy-600 transition-colors hidden">
                    ‚Üê Back
                </button>
                <button id="tutorialNext" class="flex-1 px-4 py-2 bg-gold-400 text-navy-900 rounded-lg text-sm font-semibold hover:bg-gold-300 transition-colors">
                    Let's Go! ‚Üí
                </button>
            </div>
            <button id="tutorialSkip" class="w-full mt-2 text-xs text-gold-200/40 hover:text-gold-200/70 transition-colors">
                Skip tutorial
            </button>
        </div>
    </div>
    
    <!-- Tutorial trigger button (top right, clearly labeled) -->
    <button id="startTutorialBtn" class="fixed top-4 right-4 z-50 px-4 py-2.5 bg-gradient-to-r from-emerald-500 to-emerald-400 text-white rounded-full shadow-lg hover:shadow-emerald-500/30 hover:scale-105 transition-all flex items-center gap-2 text-sm font-semibold" title="Start Tutorial">
        <span>üìñ</span>
        <span>Tutorial</span>
    </button>

</body>

</html>
